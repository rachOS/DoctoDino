{"version":3,"sources":["components/Puzzle/styles.js","components/Puzzle/components/DraggableList.js","components/Puzzle/Puzzle.js"],"names":["GameContainer","styled","div","rotate","keyframes","height","window","screen","width","WinContainer","Content","img","temp","fn","order","down","originalIndex","curIndex","y","index","scale","zIndex","shadow","immediate","n","indexOf","items","setCompleted","useRef","map","_","useSprings","length","current","springs","setSprings","bind","useGesture","vars","args","delta","curRow","clamp","Math","round","newOrder","swap","event","type","isEqual","i","key","style","boxShadow","interpolate","s","transform","images","useImagesContext","useState","currentImage","setCurrentImage","completed","useEffect","disablePageScroll","enablePageScroll","Object","keys","content","DraggableList","split","src","alt","bg","size","filter","className","onClick","history","back","image","target","closest"],"mappings":"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","file":"static/js/4.860000da.chunk.js","sourcesContent":["import styled, { keyframes } from \"styled-components\";\n\nexport const GameContainer = styled.div`\n  max-width: 550px;\n  height: 95vh;\n  max-height: 750px;\n  width: 100%;\n  background: rgba(255, 255, 255, 0.9);\n  margin: 0 auto;\n  border-radius: 30px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  position: relative;\n  padding-top: 20px;\n\n  .inner {\n    height: 80%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transform: translateY(-10%);\n  }\n  .options {\n    align-self: center;\n    display: flex;\n    justify-content: space-between;\n    height: 15%;\n    width: 100%;\n    padding: 0 10%;\n    max-height: 100px;\n    @media screen and (max-height: 846px) and (orientation: portrait) {\n      max-height: 70px;\n//      margin-bottom: 10%;\n    }\n//    margin-bottom: 3%;\n    > img {\n      height: 100%;\n      border: 2px solid #ffffff;\n      padding: 0px;\n      background: #ffc85b;\n      cursor: pointer;\n      transform: scale(1);\n      transition: 0.1s transform;\n      &:hover {\n        transform: scale(1.1);\n      }\n    }\n  }\n`;\n\nconst rotate = keyframes`\n100% {\n  transform: rotate(1turn);\n}\n`;\n\nlet height = 450;\n\nif (window.screen.height <= 640 || window.screen.width <= 412 ) {\n  height = 300;\n}\n\nif (window.screen.height <= 480) {\n  height = 300;\n}\nif (window.screen.height <= 412) {\n  height = 200;\n}\n\n\nexport const WinContainer = styled.div`\n  margin: 0 auto;\n  width: ${height}px;\n  //height:${height}px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  z-index: 0;\n  border-radius: 10px;\n  overflow: hidden;\n  padding: 1rem;\n  background: lightblue;\n  > img {\n    width: 100%;\n   // height: 100%;\n    background: lightblue;\n  }\n  &::before {\n    content: \"\";\n    position: absolute;\n    z-index: -2;\n    left: -50%;\n    top: -50%;\n    width: 200%;\n    height: 200%;\n    background-color: #399953;\n    background-repeat: no-repeat;\n    background-size: 50% 50%, 50% 50%;\n    background-position: 0 0, 100% 0, 100% 100%, 0 100%;\n    background-image: linear-gradient(#399953, #399953),\n      linear-gradient(#fbb300, #fbb300), linear-gradient(#d53e33, #d53e33),\n      linear-gradient(#377af5, #377af5);\n    animation: ${rotate} 4s linear infinite;\n  }\n\n  &::after {\n    content: \"\";\n    position: absolute;\n    z-index: -1;\n    left: 6px;\n    top: 6px;\n    width: calc(100% - 12px);\n    height: calc(100% - 12px);\n    background: white;\n    border-radius: 5px;\n  }\n`;\n\nexport const Content = styled.div`\n  grid-area: content;\n  position: relative;\n  width: ${height}px;\n  height: ${height}px;\n  align-self: center;\n  margin: 0 auto;\n  > div {\n    cursor: pointer;\n    position: absolute;\n    width: 100%;\n    height: ${height / 5}px;\n    overflow: visible;\n    pointer-events: auto;\n    transform-origin: 50% 50% 0px;\n    border-radius: 5px;\n    color: white;\n    font-size: 1.6rem;\n    background: #57B3DF;\n    border: 2px #fff solid;\n    background-image: url(${({ img }) => img});\n    background-size: 100%;\n    background-repeat: no-repeat;\n  }\n\n  > div:nth-child(5) {\n    background-position: 0 0;\n  }\n  > div:nth-child(2) {\n    background-position: 0 25%;\n  }\n  > div:nth-child(1) {\n    background-position: 0 50%;\n  }\n  > div:nth-child(4) {\n    background-position: 0 75%;\n  }\n  > div:nth-child(3) {\n    background-position: 0 100%;\n  }\n`;\n","import React, { useRef } from \"react\";\n\nimport clamp from \"lodash-es/clamp\";\nimport { isEqual } from \"lodash-es\";\nimport swap from \"lodash-move\";\nimport { useGesture } from \"react-use-gesture\";\nimport { useSprings, animated, interpolate } from \"react-spring\";\n\nimport { Content } from \"../styles\";\n\nlet temp = 100;\n\n//if(window.screen.height <= 768) {\n//  temp = 80;\n//}\n\nif(window.screen.height <= 640 || window.screen.width <= 412 ) {\n  temp = 70;\n}\n\nif(window.screen.height <= 480 ) {\n  temp = 60;\n}\nif(window.screen.height <= 412   ) {\n  temp = 40;\n}\n\n\n// Returns fitting styles for dragged/idle items\nconst fn = (order, down, originalIndex, curIndex, y) => index =>\n  down && index === originalIndex\n    ? {\n        y: curIndex * temp + y,\n        scale: 1,\n        zIndex: \"1\",\n        shadow: 15,\n        immediate: n => n === \"y\" || n === \"zIndex\"\n      }\n    : {\n        y: order.indexOf(index) * temp,\n        scale: 1,\n        zIndex: \"0\",\n        shadow: 1,\n        immediate: false\n      };\n\nexport default ({ items, setCompleted, img }) => {\n  const order = useRef(items.map((_, index) => index)); // Store indicies as a local ref, this represents the item order\n  const [springs, setSprings] = useSprings(items.length, fn(order.current)); // Create springs, each corresponds to an item, controlling its transform, scale, etc.\n  const bind = useGesture(vars => {\n    const {\n      args: [originalIndex],\n      down,\n      delta: [, y]\n    } = vars;\n    const curIndex = order.current.indexOf(originalIndex);\n    const curRow = clamp(\n      Math.round((curIndex * temp + y) / temp),\n      0,\n      items.length - 1\n    );\n    const newOrder = swap(order.current, curIndex, curRow);\n    setSprings(fn(newOrder, down, originalIndex, curIndex, y)); // Feed springs new style data, they'll animate the view without causing a single render\n    if (!down) order.current = newOrder;\n\n    if (vars.event.type === \"mouseup\" || vars.event.type === \"touchend\") {\n      if (isEqual(newOrder, [4, 1, 0, 3, 2])) {\n        setCompleted(true);\n      }\n    }\n\n  });\n  return (\n    <Content img={img} height={temp}>\n      {springs.map(({ zIndex, shadow, y, scale }, i) => (\n        <animated.div\n          {...bind(i)}\n          key={i}\n          style={{\n            zIndex,\n            boxShadow: shadow.interpolate(\n              s => `rgba(0, 0, 0, 0.15) 0px ${s}px ${2 * s}px 0px`\n            ),\n            transform: interpolate(\n              [y, scale],\n              (y, s) => `translate3d(0,${y}px,0) scale(${s})`\n            )\n          }}\n//          children={items[i]}\n        />\n      ))}\n    </Content>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { disablePageScroll, enablePageScroll } from \"scroll-lock\";\nimport { Link } from 'react-router-dom';\n\nimport { Game } from \"../../common/styles\";\nimport { GameContainer, WinContainer } from \"./styles\";\n\nimport DraggableList from \"./components/DraggableList\";\n\n\nimport { useImagesContext } from \"../contexts/ImageContext\";\n\nexport default () => {\n  const { images } = useImagesContext();\n  const [currentImage, setCurrentImage] = useState(null);\n  const [completed, setCompleted] = useState(false);\n\n  useEffect(() => {\n    disablePageScroll();\n    return ()=> {\n      enablePageScroll();\n    }\n  }, []);\n\n  useEffect(() => {\n    if (Object.keys(images).length > 0) {\n      setCurrentImage(images[\"1.png\"]);\n    }\n  }, [images]);\n\n  let content = (\n    <DraggableList\n      items={\"1 2 3 4 5\".split(\" \")}\n      setCompleted={setCompleted}\n      img={currentImage}\n    />\n  );\n\n\n  if (completed) {\n    content = (\n      <WinContainer>\n        <img src={currentImage} alt=\"puzzle\"  />\n      </WinContainer>\n    );\n  }\n\n  const select = event => {\n    const image = event.target.closest(\"img\");\n    if (image) {\n      setCurrentImage(image.src);\n      setCompleted(false);\n    }\n  };\n\n  const goBack = () => {\n    window.history.back();\n  }\n\n  return (\n    <Game bg={images[\"bg.png\"]} size=\"400px\" filter=\"1\">\n\n      <button\n        className=\"button-signup mb-3\"\n        onClick={goBack}\n      >retour</button>\n\n      <GameContainer>\n          <div className=\"options\" onClick={select}>\n            <img src={images[\"1.png\"]} alt=\"puzzle1\" />\n            <img src={images[\"2.png\"]} alt=\"puzzle2\" />\n            <img src={images[\"3.png\"]} alt=\"puzzle3\" />\n            <img src={images[\"4.png\"]} alt=\"puzzle4\" />\n          </div>\n          <div className=\"inner\">\n          {content}\n          </div>\n      </GameContainer>\n    </Game>\n  );\n};\n"],"sourceRoot":""}